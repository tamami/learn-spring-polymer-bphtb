<link rel="import" href="bower_components/paper-drawer-panel/paper-drawer-panel.html">
<link rel="import" href="bower_components/paper-toolbar/paper-toolbar.html">
<link rel="import" href="bower_components/paper-header-panel/paper-header-panel.html">
<link rel="import" href="bower_components/iron-icons/iron-icons.html">
<link rel="import" href="bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="bower_components/iron-icon/iron-icon.html">
<link rel="import" href="bower_components/neon-animation/neon-animatable-behavior.html">
<link rel="import" href="bower_components/paper-toast/paper-toast.html">
<link rel="import" href="stats-panel.html">
<link rel="import" href="entry-sspd-page.html">

<dom-module id="bphtb-page">
    <template>
        <style>
            :host {
                display: flex;
                background: var(--primary-background-color);
            }

            .flex {
                flex: 1;
            }

            paper-toolbar h1 {
                font-weight: 300;
            }
        </style>

        <token-ajax id="ajax" url="/api/bphtb" last-response="{{bphtb}}" token="{{token}}"></token-ajax>

        <paper-drawer-panel left-drawer class="flex">

            <stats-panel drawer></stats-panel>

            <paper-header-panel main>
                <paper-toolbar class="toolbar">
                    <h1>Aplikasi BPHTB</h1>
                    <span class="flex"></span>
                </paper-toolbar>
            </paper-header-panel>
        </paper-drawer-panel>

        <!--
        <entry-sspd id="entry-sspd-form" token="{{token}}"></entry-sspd>
        -->
        <paper-toast id="toast"></paper-toast>

        <div id="main" hidden$="{{hideRefKelurahan}}">
            <h1>List RefKelurahan muncul</h1>
        </div>
    </template>

    <script>
        Polymer({
            is: 'bphtb-page',

            properties: {
                token: {
                    type: String,
                    notify: true
                },
                hideRefKelurahan: {
                    type: Boolean,
                    value: true
                }
            },

            behaviors: [Polymer.NeonAnimatableBehavior],

            listeners: {
                'change-win': '_changeWin',
                'show-ref-kelurahan': '_showRefKelurahan'
            },

            _changeWin: function() {
                document.getElementById("main").innerHTML = "<entry-sspd token=\"{{token}}\"></entry-sspd>";
            },

            _showRefKelurahan: function() {
                this.hideRefKelurahan = !this.hideRefKelurahan;
            }
        });
    </script>
</dom-module>